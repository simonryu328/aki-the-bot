{
    "$schema": "https://schema.railpack.com",
    "packages": {
        "python": "3.11",
        "node": "20"
    },
    "steps": {
        "install": {
            "inputs": [
                {
                    "local": true,
                    "include": [
                        "."
                    ]
                }
            ],
            "commands": [
                "uv sync --frozen",
                "cd web && npm install"
            ]
        },
        "build": {
            "inputs": [
                {
                    "step": "install"
                }
            ],
            "commands": [
                "cd web && npm run build"
            ]
        }
    },
    "deploy": {
        "startCommand": "uv run python run_server.py",
        "inputs": [
            {
                "step": "build"
            }
        ]
    }
}